{{contract/domain-assigned-modal domainName=this.domainName walletAddressReceiver=this.walletAddressReceiver}}
{{contract/offer-made-modal domainName=this.domainName ownerAddress=this.domainOwner offerAmount=this.offerAmount}}
<div {{did-insert this.setupEventListener}} {{did-insert this.setupOfferMadeEventListener}} class="card card-user" style="min-height: 95.3%;">
    <div class="card-header ">
        <div class="row">
            <div class="col-sm-12 text-left">
                <p class="card-text"></p>
                <div class="author">
                <div class="block block-one"></div>
                <div class="block block-two"></div>
                <div class="block block-three"></div>
                <div class="block block-four"></div>
                <h2 class="card-title domain-title">{{t 'domain.buy.title'}}</h2>
                </div>
            </div>
        </div>
    </div>
    <div class="card-body card-domain">
        <br/>
        <form {{on "submit" this.nameToAddressAction}}>
            <div class="row">
                <div class="col-md-10 domain-block-centered">
                    <div class="form-group domain-body-block">
                        <label>{{t 'domain.buy.subtitle'}}:</label> <br/><br/>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend border-color-grey">
                                <span class="input-group-text" id="basic-addon1"><i class="tim-icons icon-book-bookmark"></i></span>
                            </div>
                            <Input @placeholder={{t 'domain.buy.placeholder'}} @type="text" aria-label="Domain" aria-describedby="basic-addon1" class="form-control border-color" @value={{this.domainName}}/>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        {{#if this.canByDomain}}
            <form class="domain-available-container" {{on "submit" this.assignNewName}}>
                <div class="row">
                <div class="col-md-12">
                    <br/>
                    <label class="alert alert-success emphesized">{{t 'domain.buy.domain_name'}}: <br/>{{this.domainName}}<br/>{{t 'domain.buy.available'}}</label>
                    <br/>
                    <div class="form-group">
                        <br/>
                        {{#if this.assignToBuyer}}
                            <label>{{t 'domain.buy.domain_name'}} <label class="emphesized">{{this.domainName}}</label> {{t 'domain.buy.will_assign'}}<br/>
                            {{t 'domain.buy.but'}}</label>
                            <button {{on 'click' this.giftDomain}} type="submit" class="btn btn-fill btn-primary btn-left">{{t 'domain.buy.gift'}}</button>
                        {{else}}
                            <label>{{t 'domain.buy.enter_wallet_assign'}}<br/>{{t 'domain.buy.to_domain'}} <label class="emphesized">{{this.domainName}}</label></label>
                            <Input @placeholder={{t 'domain.buy.enter_receiver'}} @type="text" class="form-control border-color" @value={{this.walletAddressReceiver}}/>
                            <button {{on 'click' this.resetGiftDomain}} type="submit" class="btn btn-fill btn-primary btn-left">{{t 'domain.buy.your_wallet'}}</button>
                        {{/if}}
                    </div>
                </div>
                </div>
            </form>
        {{/if}}
        {{#if this.canMakeOffer}}
            <form class="domain-available-container" {{on "submit" this.makeOffer}}>
                <div class="row">
                <div class="col-md-12">
                    <br/>
                    <label class="alert alert-info emphesized">{{t 'domain.buy.domain_name'}}:<br/>{{this.domainName}}<br/>{{t 'domain.buy.already_taken'}}<br/> {{t 'domain.buy.can_make_offer'}}</label>
                    <br/>
                    <div class="form-group">
                        <br/>
                        <label>{{t 'domain.buy.offer_amount'}}:</label>
                        <Input @placeholder={{t 'domain.buy.amount_tfuel'}} @type="number" @min="1" class="form-control border-color" @value={{this.offerAmount}}/>
                    </div>
                </div>
                </div>
            </form>
        {{/if}}
    </div>
    <div class="card-footer card-footer-domain">
        {{#if canSearch}}
            <button {{on 'click' nameToAddressAction}} type="submit" class="btn btn-fill btn-primary btn-left">{{t 'global.search'}}</button>
        {{/if}}
        {{#if this.canByDomain}}
            <button {{on 'click' cancel}} type="submit" class="btn btn-fill btn-secondary btn-left">{{t 'global.search'}}</button>
            <button {{on 'click' assignNewName}} type="submit" class="btn btn-fill btn-primary btn-left">{{t 'global.review_order'}}</button>
        {{/if}}
         {{#if this.canMakeOffer}}
            <button {{on 'click' cancel}} type="submit" class="btn btn-fill btn-secondary btn-left">{{t 'global.search'}}</button>
            <button {{on 'click' makeOffer}} type="submit" class="btn btn-fill btn-primary btn-left">{{t 'global.review_offer'}}</button>
        {{/if}}
    </div>
</div>