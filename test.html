<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.6.1/web3.min.js"
        integrity="sha512-5erpERW8MxcHDF7Xea9eBQPiRtxbse70pFcaHJuOhdEBQeAxGQjUwgJbuBDWve+xP/u5IoJbKjyJk50qCnMD7A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
  const ThetaboardDirectSell = [{
    "inputs": [{"internalType": "address", "name": "_nftAddress", "type": "address"}],
    "name": "purchaseToken",
    "outputs": [],
    "stateMutability": "payable",
    "type": "function"
  }]


  const do_transaction = async () => {
    window.web3 = new Web3("https://eth-rpc-api.thetatoken.org/rpc");
    const accounts = await ethereum.request({method: 'eth_requestAccounts'});
    const account = accounts[0];
    const sell_contract = new window.web3.eth.Contract(ThetaboardDirectSell, "0x0d2bd4f9b8966d026a07d9dc97c379aadd64c912");
    try {
      const nft_sell = await sell_contract.methods.purchaseToken("0x1e09B517b5FA0dBf868F00da126bbE87a0f9Ce9E").send({
        value: window.web3.utils.toWei(String("1")),
        from: account
      });
    } catch (e) {
      // it will always reach here !
      console.error(e);
    }

  }
  do_transaction();
</script>
